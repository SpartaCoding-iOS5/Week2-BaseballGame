# 숫자 야구 게임 과제 (Week 2)

숫자 야구 게임은 1에서 9까지의 서로 다른 3개의 숫자를 맞추는 게임입니다. 이 리포지토리에서는 각 레벨별 구현을 통해 게임 기능을 개선하고 확장하는 과정을 설명합니다.

---

## 📋 레벨별 기능 요약

- **[레벨 1 - 숫자 야구 게임 기본 로직](#레벨-1---숫자-야구-게임-기본-로직)**: 기본 숫자 야구 게임 로직을 구현합니다.
- **[레벨 2 - 숫자 입력 힌트 강화](#레벨-2---숫자-입력-힌트-강화)**: 정답 입력 힌트 기능을 강화하고 입력값 검증을 추가합니다.
- **[레벨 3 - 입력값 검증 및 추가 제약](#레벨-3---입력값-검증-및-추가-제약)**: 0부터 9까지의 숫자 입력을 허용하고, 입력값 검증을 강화합니다.
- **[레벨 4 - 메뉴 시스템 추가](#레벨-4---메뉴-시스템-추가)**: 게임 메뉴 시스템을 추가하여 게임 시작, 기록 보기, 종료 기능을 제공합니다.
- **[레벨 5 - 게임 기록 기능 추가](#레벨-5---게임-기록-기능-추가)**: 각 게임의 시도 횟수를 기록하고 조회할 수 있는 기능을 추가합니다.
- **[레벨 6 - 유효한 입력 제어와 종료 기능](#레벨-6---유효한-입력-제어와-종료-기능)**: 유효한 입력만 허용하고 종료 기능을 통해 프로그램을 종료할 수 있게 합니다.

---

## 📂 코드 파일 구조
```
Week2-BaseballGame/
├── main.swift                          # 게임 메인 진입점, 레벨 선택 및 시작
├── Lv_1.swift                          # 레벨 1 - 숫자 야구 기본 로직 구현 파일
├── Lv_2/
│   ├── Classes/
│   │   └── BaseballGame.swift          # Lv_2 - BaseballGame 클래스, 게임 로직 구현
│   ├── Models/
│   │   ├── AnswerCreator.swift         # Lv_2 - 정답 생성기 클래스
│   │   └── InputError.swift            # Lv_2 - 입력 오류 정의 파일
│   └── Protocols/
│       └── BaseballGameProtocol.swift  # Lv_2 - 게임 기본 기능을 정의하는 프로토콜
├── Lv_3/
│   └── 각 레벨별 구조와 동일 (Lv_2의 구조와 유사)
├── Lv_4/
│   └── 각 레벨별 구조와 동일 (Lv_2의 구조와 유사)
├── Lv_5/
│   └── 각 레벨별 구조와 동일 (Lv_2의 구조와 유사)
└── Lv_6/
    └── 각 레벨별 구조와 동일 (Lv_2의 구조와 유사)
```

### 주요 파일 설명
- **`main.swift`**: 게임의 메인 진입점으로, 레벨을 선택하고 시작할 수 있도록 구성되어 있습니다. `startGame()` 함수가 게임의 시작을 담당합니다.
- **`Lv_1.swift`**: 기본 숫자 야구 게임 로직을 포함한 파일입니다.
- **`Lv_2`** 폴더: 레벨 2의 기능을 구현한 클래스, 모델, 프로토콜 파일로 구성되어 있으며, 정답 생성, 입력 검증, 게임 힌트 기능을 강화합니다.
- **`Lv_3 ~ Lv_6`**: 이후 레벨별 기능 확장을 위한 파일이며, 현재 각각의 레벨 기능이 구현되어 있습니다.

---

## 📝 구현 가이드

### `main.swift` 파일
`Command Line Tool` 프로젝트에서는 하나의 `main.swift` 파일에서만 프로그램을 시작할 수 있습니다. 따라서 각 레벨별 기능을 별도의 파일로 구현한 후, `main.swift` 파일에서 해당 레벨의 함수를 호출하여 실행하도록 구성합니다.

```swift
import Foundation

func startGame() {
    print("레벨을 선택하세요 (1, 2, 3, 4, 5, 6): ")
    
    if let input = readLine(), let level = Int(input) {
        switch level {
        case 1:
            levelOne()
        case 2:
            let game = BaseballGameLv2()
            game.startGame()
        case 3:
            let game = BaseballGameLv3()
            game.startGame()
        case 4:
            let game = BaseballGameLv4()
            game.startGame()
        case 5:
            let game = BaseballGameLv5()
            game.startGame()
        case 6:
            let game = BaseballGameLv6()
            game.startGame()
        default:
            print("유효하지 않은 레벨입니다. 1~6까지를 선택해주세요.")
        }
    } else {
        print("잘못된 입력입니다.")
    }
}

// 게임 시작
startGame()
```
`startGame()` 함수는 게임의 레벨을 선택하여 시작할 수 있도록 구성됩니다. 사용자가 입력한 레벨 번호에 따라 해당 레벨의 클래스를 인스턴스화하고 `startGame()` 메서드를 호출하여 게임을 진행합니다.

---

## 레벨별 상세 구현

### **레벨 1 - 숫자 야구 게임 기본 로직**

**기능 설명**: 1에서 9까지의 서로 다른 임의의 수 3개를 정하고, 사용자가 해당 숫자를 맞추는 게임입니다. 정답은 게임 시작 시 랜덤으로 생성되며, 사용자는 정답을 맞출 때까지 계속해서 세 자리 숫자를 입력하게 됩니다.

### **레벨 2 - 숫자 입력 힌트 강화**

**추가된 기능**:
1. **정답 입력 힌트 강화**: 스트라이크와 볼의 개수를 통해 사용자가 입력한 숫자에 대한 힌트를 제공합니다.
2. **오류 메시지 제공**: 세 자리 숫자, 중복 없는 숫자, 숫자만 입력해야 한다는 조건을 어겼을 때 적절한 오류 메시지를 제공합니다.

**코드 변경 사항**:
- **`checkAnswer()` 메서드**: 오류 발생 시 `InputErrorLv2` 열거형을 통해 오류 메시지를 반환합니다.
- **프로토콜 정의**: `BaseballGameProtocolLv2`를 정의하여 게임의 기본 인터페이스를 유지합니다.

### **레벨 3 - 입력값 검증 및 추가 제약**

**기능 설명**:
- **0부터 9까지의 숫자 사용**: 정답 숫자의 범위를 0부터 9까지 확장하였으며, 맨 앞에 0이 오는 경우 방지 로직을 추가하였습니다.
- **검증 강화**: 입력값이 100부터 999 사이의 유효한 숫자여야 하며, 각 자리의 숫자가 중복되지 않도록 합니다.

**코드 변경 사항**:
- `AnswerCreatorLv3` 클래스: 맨 앞에 0이 올 경우, 임의의 자리와 스왑하는 로직을 추가했습니다.
- `checkAnswer()` 메서드: 입력값이 100부터 999 사이의 값인지 검증합니다.
- `InputErrorLv3`: 오류 메시지를 포함하여 사용자에게 명확한 피드백을 제공하도록 개선되었습니다.

### **레벨 4 - 메뉴 시스템 추가**

**기능 설명**: 게임 시작 시 안내 메시지를 통해 사용자가 원하는 메뉴를 선택할 수 있게 합니다. 메뉴는 `1. 게임 시작`, `2. 게임 기록 보기`, `3. 종료하기`로 구성됩니다. 

**코드 변경 사항**:
- **`startGame()` 메서드**: 안내 메시지와 함께 사용자의 메뉴 선택을 받는 구조로 변경되었습니다.
- **메뉴 선택 후 반복 실행**: `while true` 루프를 사용하여 게임이 종료될 때까지 반복됩니다.

### **레벨 5 - 게임 기록 기능 추가**

**기능 설명**: 각 게임의 시도 횟수를 기록하고, 게임 기록 보기 메뉴에서 완료된 게임의 시도 횟수를 확인할 수 있습니다.

**코드 변경 사항**:
- **`gameRecords` 배열**: 각 게임의 시도 횟수를 저장합니다.
- **`displayGameRecords()` 메서드**: 기록된 시도 횟수를 사용자에게 보여줍니다.

### **레벨 6 - 유효한 입력 제어와 종료 기능**

**기능 설명**: 메뉴 선택에서 1, 2, 3 이외의 입력값에 대해 오류 메시지를 제공하며, 3번 메뉴 선택 시 프로그램이 종료됩니다.

**코드 변경 사항**:
- **`guard` 구문 추가**: 메뉴 선택에서 유효하지 않은 입력을 사전에 방지합니다.
- **종료 기능**: `exit(0)`을 사용하여 프로그램을 종료합니다.

---

### 예시 실행 흐름

**메뉴 예시**:

환영합니다! 원하시는 번호를 입력해주세요

```
게임 시작하기 2. 게임 기록 보기 3. 종료하기 
ㄴ
```

**잘못된 입력**:
```
4 
유효하지 않은 입력으로 1, 2, 3 중 하나를 선택하세요.
```


**게임 기록 보기 예시**:
```
< 게임 기록 보기 > 
1번째 게임 : 시도 횟수 - 14 
2번째 게임 : 시도 횟수 - 9 
3번째 게임 : 시도 횟수 - 12
```